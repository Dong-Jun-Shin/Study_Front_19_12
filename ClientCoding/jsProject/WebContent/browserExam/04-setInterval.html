<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
		<title>setInterval 예제</title>
		
		<link rel="shortcut icon" href="../image/icon.png" />
		<link rel="apple-touch-icon" href="../image/icon.png" />
		
		<!-- <script type="text/javascript" src="../js/03_04_time.js"></script> -->
		<script type="text/javascript">
			var id;
			function changeColor(){
				// 정지시키려면 반환값을 저장한다.
				id = setInterval(flashText, 500);
			}
			function flashText(){
				var elem = document.getElementById("target");
				elem.style.color = (elem.style.color == "red")? "blue":"red";
				elem.style.backgroundColor = (elem.style.backgroundColor == "green")? "yellow":"green";
			}
			function stopTextColor(){
				// 반환값을 이용하여 주기적 호출을 중지한다.
				clearInterval(id);
			}
			
			var interval;
			function setTime(){
				var date = new Date();
				document.getElementById("txt").value=date.toLocaleString();
			}
			function start_time(){
				interval = setInterval(setTime, 1000);
			}
			
			function stop_time(){
				clearInterval(interval);
			}
		</script>
	</head>
	<body onload="changeColor();">
		<div id="target">
			<p>This is a Text.</p>
		</div>
		<button type="button" onclick="stopTextColor();">중지</button>
		
		<form name="form1">
			<input type="text" name="txt" id="txt"/><br/>
			<input type="button" value="시계동작" onclick="start_time();">&nbsp;&nbsp;&nbsp;&nbsp;
			<input type="button" value="시계중지" onclick="stop_time();">
		</form>
	</body>
</html>